<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>This Money Does Not Exist</title>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="./style.css">

</head>
<body>
  <div id="container">
    <div id="content-wrapper">
      <img id="logo" src="https://cashu.space/img/rounded_192x192.png" alt="Logo">

      <textarea id="token" readonly style="display: none;"></textarea>
    </div>
  </div>

  <script>
    async function fetchData() {
      try {
        const amount = Math.floor(Math.random() * 1000) + 1;
        
        const response = await fetch(`https://throbbing-rain-bdd7.alicexbt.workers.dev/?url=https://lafayette-formed-newsletters-sky.trycloudflare.com/send?amount=${amount}&offline=false`, {
          method: 'POST',
          headers: {
            'accept': 'application/json'
          }
        });
        const data = await response.json();
        const contents = JSON.parse(data.contents);
        const token = contents.token;

        document.getElementById('token').value = token;
        document.getElementById('token').style.display = 'block';
        document.getElementById('logo').style.display = 'none';

      } catch (error) {
        console.error('Error fetching data:', error);
      }
    }

    window.onload = function() {
      document.getElementById('logo').style.display = 'block';
      fetchData();
    };
  </script>

</body>
</html>
